# 快速测试指南

## 测试新的登录状态管理功能

应用已在 http://localhost:3001 运行，请按照以下步骤测试：

### 🔍 测试步骤

#### 1. 测试"记住我"功能
```
1. 打开 http://localhost:3001
2. 进入登录页面
3. 输入任意测试用户名和密码（如：admin/admin123）
4. ✅ 勾选"记住我"复选框
5. 点击登录
6. 关闭浏览器标签页
7. 重新打开 http://localhost:3001
8. 预期：自动恢复到登录状态
```

#### 2. 测试会话模式
```
1. 如果还在登录状态，先点击"退出登录"
2. 重新进入登录页面
3. 输入相同的用户名和密码
4. ❌ 不勾选"记住我"复选框
5. 点击登录
6. 关闭浏览器标签页
7. 重新打开 http://localhost:3001
8. 预期：回到登录页面，需要重新登录
```

#### 3. 测试撤销重做功能
```
1. 登录后进入个人资料页面
2. 修改用户信息（如姓名、手机号）
3. 点击"保存修改"
4. 点击"撤销"按钮
5. 预期：信息恢复到上一个版本
6. 点击"重做"按钮
7. 预期：信息恢复到修改后的版本
```

### 🔧 检查要点

#### UI 界面检查
- [ ] 所有登录表单都有"记住我"复选框
- [ ] 复选框样式美观，位置合适
- [ ] 撤销重做按钮显示正确的图标和状态

#### 功能性检查
- [ ] "记住我"勾选时，登录状态持久保存
- [ ] "记住我"不勾选时，关闭浏览器后需要重新登录
- [ ] 退出登录后清除所有状态
- [ ] 撤销重做按钮根据实际状态启用/禁用

#### 多角色测试
- [ ] 用户登录：用户名/密码测试
- [ ] 维修人员登录：维修人员凭据测试
- [ ] 管理员登录：管理员凭据测试

### 🐛 如果遇到问题

#### 常见问题排查
1. **页面空白**：检查浏览器控制台是否有错误
2. **无法登录**：确认后端服务是否正常运行
3. **状态不持久**：检查浏览器是否禁用了本地存储
4. **按钮无响应**：查看网络面板确认API调用情况

#### 浏览器开发者工具检查
```
1. 打开 F12 开发者工具
2. 检查 Application -> Storage
   - localStorage: 应该包含用户信息（记住我模式）
   - sessionStorage: 应该包含用户信息（会话模式）
3. 检查 Console 面板确认无JavaScript错误
4. 检查 Network 面板确认API调用正常
```

### ✅ 预期行为总结

| 场景           | 记住我 | 关闭浏览器后 | 刷新页面后         |
| -------------- | ------ | ------------ | ------------------ |
| 勾选"记住我"   | ✅      | 保持登录     | 保持登录           |
| 不勾选"记住我" | ❌      | 需要重新登录 | 保持登录（会话中） |
| 手动退出登录   | -      | 需要重新登录 | 需要重新登录       |

### 📝 测试报告模板

完成测试后，请记录：

```
测试时间：________
浏览器版本：________
测试结果：
- 记住我功能：[✅ 正常] [❌ 异常]
- 会话模式：[✅ 正常] [❌ 异常]  
- 撤销重做：[✅ 正常] [❌ 异常]
- 多角色登录：[✅ 正常] [❌ 异常]

发现的问题：
1. ________
2. ________

建议改进：
1. ________
2. ________
```
